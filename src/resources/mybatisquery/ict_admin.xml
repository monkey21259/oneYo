<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
          "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="main.ict.admin.dao.AdminDAO">

<!-- 등업 -->
<!-- 	<select id="adminLevelupSelectAll" resultType="levelupvo"> -->
<!-- 		SELECT   A.LVNUM			AS			LVNUM  -->
<!-- 			   , A.LVSUBJECT		AS			LVSUBJECT   -->
<!-- 			   , A.LVCONTENT		AS 			LVCONTENT -->
<!-- 			   , A.LVPHOTO 			AS 			LVPHOTO -->
<!-- 			   , A.MNUM 			AS 			MNUM -->
<!-- 			   , A.PROCESSYN 		AS 			PROCESSYN -->
<!-- 		   , TO_CHAR(TO_DATE(A.INSERTDATE),'YYYY-MM-DD') AS INSERTDATE -->
<!-- 		   , TO_CHAR(TO_DATE(A.UPDATEDATE),'YYYY-MM-DD') AS UPDATEDATE -->
<!-- 		FROM ( SELECT	 	LVNUM -->
<!-- 				 	  		,LVSUBJECT -->
<!-- 					  	 	,LVCONTENT -->
<!-- 					  	 	,LVPHOTO -->
<!-- 					  	 	,MNUM -->
<!-- 					 	  	,PROCESSYN -->
<!-- 					 	  	,INSERTDATE -->
<!-- 					 	  	,UPDATEDATE -->
<!-- 				 FROM   "ORCLICT00"."ICT_LEVELUP" -->
<!-- 				 WHERE   PROCESSYN = '0' -->
<!-- 				 ORDER BY LVNUM DESC) A -->
<!-- 	<![CDATA[WHERE ROWNUM	<=	5]]> -->
		
<!-- 	</select> -->

<!-- 신고글 -->
	<select id="adminWarningSelectAll" resultType="warningvo">
		SELECT * FROM 
			(SELECT A.WNUM 		AS 		WNUM
				, A.WTNUM 		AS 		WTNUM
				, A.WCATEGORY 	AS 		WCATEGORY
				, A.WCONTENT 	AS 		WCONTENT
				, A.MNUM 		AS 		MNUM
				, A.DELETEYN 	AS 		DELETEYN
				, TO_CHAR(TO_DATE(A.INSERTDATE),'YYYY-MM-DD') AS INSERTDATE
		FROM "ORCLICT00"."ICT_WARNING" A
		WHERE DELETEYN ='N'   <!-- 나중에 Y로 바꾸기 -->
		ORDER BY WNUM DESC
        ) <![CDATA[WHERE ROWNUM <= 5]]>
	</select>

<!-- 레시피 -->
	<select id="adminRecipeSelectAll" resultType="recipevo">
		SELECT 		A.RNUM 			AS 		RNUM
				, A.RSUBJECT		AS 		RSUBJECT
				, A.RCONTENT 		AS 		RCONTENT
				, A.RPHOTO			AS		RPHOTO
				, A.RCATEGORY 		AS 		RCATEGORY
				, A.WARNING 		AS 		WARNING
				, A.MNUM 			AS 		MNUM
				, A.RHIT 			AS 		RHIT
				, A.DELETEYN 		AS 		DELETEYN
				, TO_CHAR(TO_DATE(A.INSERTDATE),'YYYY-MM-DD') AS INSERTDATE
				, TO_CHAR(TO_DATE(A.UPDATEDATE),'YYYY-MM-DD') AS UPDATEDATE
		FROM "ORCLICT00"."ICT_RECIPE" A
		WHERE DELETEYN ='Y'
		AND <![CDATA[ROWNUM <=5]]> 
		ORDER BY RNUM DESC
      </select>
      	
<!-- 전문가팁 -->
	<select id="adminTipSelectAll" resultType="tipvo">
		SELECT 	  A.TNUM 			AS 		TNUM
				, A.TSUBJECT		AS 		TSUBJECT
				, A.TCONTENT 		AS 		TCONTENT
				, A.TPHOTO			AS		TPHOTO
				, A.TCATEGORY 		AS 		TCATEGORY
				, A.WARNING 		AS 		WARNING
				, A.MNUM 			AS 		MNUM
				, A.THIT 			AS 		THIT
				, A.DELETEYN 		AS 		DELETEYN
				, TO_CHAR(TO_DATE(A.INSERTDATE),'YYYY-MM-DD') AS INSERTDATE
				, TO_CHAR(TO_DATE(A.UPDATEDATE),'YYYY-MM-DD') AS UPDATEDATE
		FROM "ORCLICT00"."ICT_TIP" A
		WHERE DELETEYN ='Y'
		AND <![CDATA[ROWNUM <=5]]> 
		ORDER BY A.TNUM DESC 
     </select>


<!-- 커뮤니티 --> 
	<select id="adminCommunitySelectAll" resultType="communityvo">
		SELECT	  ROW_NUMBER() OVER (ORDER BY A.CNUM)     AS      COMMUNITYNUM
                , A.CNUM		 AS 	CNUM
				, A.CSUBJECT  	 AS 	CSUBJECT
				, A.CCONTENT 	 AS 	CCONTENT
				, A.CPHOTO 		 AS 	CPHOTO
				, A.WARNING 	 AS 	WARNING
				, B.MNUM 		 AS 	MNUM
	       		, B.MNICK        AS 	MNICK
				, A.CHIT 	     AS 	CHIT
				, A.DELETEYN 	 AS 	DELETEYN
				, TO_CHAR(TO_DATE(A.INSERTDATE),'YYYY-MM-DD') AS INSERTDATE
		FROM  "ORCLICT00"."ICT_COMMUNITY" A
	         ,"ORCLICT00"."ICT_MEMBER"    B
		WHERE    A.MNUM = B.MNUM
		AND      A.DELETEYN = 'Y'
		AND      B.DELETEYN = 'Y'
		AND <![CDATA[ROWNUM <=5]]> 
		ORDER BY A.CNUM DESC
	</select> 

</mapper>